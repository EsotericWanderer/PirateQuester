@using PirateQuester.Bot;
@using PirateQuester.Services;
@inject NavigationManager Nav
@inject BotService Bots
<RadzenCard class="mb-2 p-0 py-2">

	<RadzenButton Click="@(() => Nav.NavigateTo($"/Bot/"))" class="mx-3">
		Settings
	</RadzenButton>
	@foreach (DFKBot bot in Bots.RunningBots)
	{
		<RadzenButton Click="@(() => Nav.NavigateTo($"/Bot/{Bots.RunningBots.IndexOf(bot)}"))" class="m-1">
			@(Bots.RunningBots.IndexOf(bot) + 1) @bot.Account.Account.Address.Substring(2, 4)...@bot.Account.Account.Address.Substring(bot.Account.Account.Address.Length-4, 4) on @bot.Account.Chain.Name
		</RadzenButton>
	}
</RadzenCard>

@code{
	protected override void OnInitialized()
	{
		Bots.UpdatedBot += StateHasChanged;
	}
}